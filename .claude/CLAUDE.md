<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>

# Bot-Ultra-Power - Regras Mestras

**IMPORTANTE**: Este arquivo e carregado em TODA sessao. Siga estas regras SEMPRE.

---

## REGRA #1: Comunicacao com Usuario

- **SEMPRE informe o que esta fazendo** antes de fazer
- **SEMPRE reporte resultados** apos cada acao significativa
- **NUNCA assuma que algo foi feito** - verifique e confirme
- **SE algo falhar**, pare e reporte imediatamente
- **NAO repita instrucoes** que o usuario ja deu - elas estao aqui

---

## REGRA #2: Deploy de Apps - 7 Fases Obrigatorias

Quando o usuario pedir para deployar um app, SIGA EXATAMENTE:

```
[FASE 0/7] INICIALIZACAO
- Verificar diretorio do app
- Criar ~/clawd/deploys/[DATA]-status.md
- Reportar: "Iniciando deploy de [APP]"

[FASE 1/7] BUILD
- npm run build ou bun run build
- Se falhar, PARE e reporte
- Reportar: "Build OK"

[FASE 2/7] SEO
- Verificar/criar app/sitemap.ts
- Verificar/criar app/robots.ts
- Verificar metadata em layout.tsx
- Reportar: "SEO configurado"

[FASE 3/7] DEPLOY RAILWAY
- railway up
- Capturar URL de producao
- Testar se responde (curl)
- Reportar: "Deploy OK - URL: [url]"

[FASE 4/7] TESTE PRODUCAO
- Abrir URL via Playwright
- Verificar se carrega
- Capturar screenshot
- Reportar: "Teste OK"

[FASE 5/7] GOOGLE SEARCH CONSOLE
- Abrir GSC via Playwright
- Navegar para a propriedade
- Verificar sitemap "Processado"
- Capturar screenshot
- Reportar: "GSC verificado - X paginas"

[FASE 6/7] X/TWITTER POSTS
- Postar em 3 idiomas (pt-BR, en-US, es)
- Capturar IDs dos posts
- Reportar: "Posts publicados"

[FASE 7/7] FINALIZACAO
- Atualizar status para 100%
- Gerar resumo final com URLs e screenshots
- Reportar: "DEPLOY COMPLETO!"
```

**Referencia detalhada**: `.claude/agents/orchestrator/deploy-maestro.md`

---

## REGRA #3: Verificacoes Pre-Deploy

Antes de QUALQUER deploy, verificar via Playwright:

- [ ] X/Twitter esta logado? (testar https://x.com/compose/tweet)
- [ ] GSC esta logado? (testar https://search.google.com/search-console)
- [ ] Diretorio do app existe?
- [ ] Build passa sem erros?

Se algum login falhar, avisar usuario e AGUARDAR.

---

## REGRA #4: Arquivos de Status

SEMPRE manter atualizados:

| Arquivo | Proposito |
|---------|-----------|
| `~/clawd/deploys/[DATA]-status.md` | Status do dia |
| `.playwright-mcp/*.png` | Screenshots de prova |

---

## REGRA #5: 54 Agentes Disponiveis

### Engineering (7)
- `frontend-developer` - Interfaces blazing-fast
- `backend-architect` - APIs escalaveis
- `ai-engineer` - Integrar AI/ML
- `rapid-prototyper` - MVPs em dias
- `mobile-app-builder` - iOS/Android nativo
- `devops-automator` - Deploy continuo
- `test-writer-fixer` - Testes que funcionam

### Design (5)
- `ui-designer` - Interfaces construiveis
- `brand-guardian` - Identidade visual consistente
- `ux-researcher` - Insights em melhorias
- `visual-storyteller` - Visuais que convertem
- `whimsy-injector` - Adicionar delicia

### Marketing (7)
- `twitter-engager` - Engajamento viral
- `tiktok-strategist` - Momentos compartilhaveis
- `instagram-curator` - Conteudo visual
- `reddit-community-builder` - Reddit sem ban
- `content-creator` - Conteudo multi-plataforma
- `growth-hacker` - Loops de crescimento
- `app-store-optimizer` - ASO

### Product (3)
- `trend-researcher` - Oportunidades virais
- `feedback-synthesizer` - Reclamacoes em features
- `sprint-prioritizer` - Maximo valor em 6 dias

### Project Management (3)
- `studio-producer` - Times entregando
- `project-shipper` - Lancamentos sem crash
- `experiment-tracker` - Validacao data-driven

### Studio Operations (5)
- `analytics-reporter` - Dados em insights
- `finance-tracker` - Studio lucrativo
- `infrastructure-maintainer` - Escalar barato
- `legal-compliance-checker` - Legal e rapido
- `support-responder` - Usuarios em advocates

### Testing (5)
- `api-tester` - APIs sob pressao
- `performance-benchmarker` - Tudo mais rapido
- `test-results-analyzer` - Padroes em falhas
- `tool-evaluator` - Ferramentas uteis
- `workflow-optimizer` - Eliminar gargalos

### Orchestrator (2)
- `auto-parallel` - Paralelizar tarefas
- `deploy-maestro` - Coordenar deploys

### Bonus (2)
- `studio-coach` - Rally the AI troops
- `joker` - Humor tech

---

## REGRA #6: Skills Disponiveis

| Skill | Proposito | Comando |
|-------|-----------|---------|
| `ui-ux-pro-max` | Design intelligence (50 estilos, 21 paletas) | `python3 .claude/skills/ui-ux-pro-max/scripts/search.py` |
| `seo-elite-i18n` | SEO multilingual (5 locales) | `python3 .claude/skills/seo-elite-i18n/scripts/search.py` |
| `production-readiness` | Audit pre-launch | `python3 .claude/skills/production-readiness/scripts/audit.py` |
| `react-best-practices` | 40+ regras performance | Ler arquivo |
| `deploy` | 7 fases de deploy | `/deploy [caminho]` |

---

## REGRA #7: Comandos Disponiveis

| Comando | O que faz |
|---------|-----------|
| `/deploy [path]` | Deploy completo em 7 fases |
| `/design-review` | Review de UI com Playwright |
| `/exec-prompt` | Executar tarefa autonoma |
| `/exec-doc` | Pesquisar com Context7 |
| `/exec-security` | Pentest completo |
| `/prd` | Gerar PRD de feature |
| `/spec` | Gerar spec de PRD |

---

## REGRA #8: Tech Stack Padrao

```
- Next.js 15 (App Router)
- TypeScript
- Tailwind CSS
- Supabase (banco)
- Railway (deploy)
- Playwright (testes/automacao)
- next-intl (i18n)
```

---

## REGRA #9: Locales Suportados

```
pt-BR (Portugues Brasil) - Mercado primario
en-US (Ingles EUA) - Mercado global
es (Espanhol) - LATAM
fr (Frances) - Europa
zh-CN (Chines Simplificado) - Asia
```

Sempre usar hreflang e x-default para SEO.

---

## REGRA #10: Padrao de Posts X/Twitter

### Template PT-BR
```
[Pergunta sobre a dor]

[App] resolve [problema] em [tempo].

- Feature 1
- Feature 2
- Feature 3

Gratis. Sem cadastro.

[URL]

#FreelancerBR #IA #Produtividade
```

### Template EN-US
```
[Pain point question]

[App] solves [problem] in [time].

- Feature 1
- Feature 2
- Feature 3

Built with [Stack]

[URL]

#AI #IndieHacker #BuildInPublic
```

### Template ES
```
[Pregunta sobre el dolor]

[App] resuelve [problema] en [tiempo].

- Feature 1
- Feature 2
- Feature 3

Gratis. Sin registro.

[URL]

#IA #Freelancer #Marketing
```

---

## REGRA #11: Design Principles (S-Tier)

Seguir padrao Stripe/Linear/Airbnb:

### Core
- Users First (UX > features)
- Meticulous Craft (detalhes importam)
- Speed & Performance (sub-100ms interactions)

### Visual
- 4-8px spacing system
- 1 primary font (Inter/SF Pro)
- 3-5 core colors max
- Consistent shadows (sm/md/lg)

### Components
- Inputs: 40-48px height
- Buttons: clear hierarchy (primary/secondary/ghost)
- Cards: consistent padding (16-24px)
- Tables: proper alignment

---

## REGRA #12: Qualidade Obrigatoria

### Performance
- LCP < 2.5s
- FID < 100ms
- CLS < 0.1

### Acessibilidade
- WCAG 2.1 AA
- Alt text em todas imagens
- Labels em todos inputs
- Contrast ratio 4.5:1

### SEO
- generateMetadata() dinamico
- hreflang com 5 locales + x-default
- sitemap.xml com todas URLs
- robots.txt permitindo indexacao

---

## REGRA #13: Tratamento de Erros

Se QUALQUER coisa falhar:

1. **PARE imediatamente**
2. **Documente o erro**
3. **Reporte ao usuario**:
```
[FASE X/7] [NOME] - FALHOU

Erro: [descricao]
Acao necessaria: [o que fazer]
```
4. **Aguarde instrucoes** antes de continuar

---

## REGRA #14: Parallelizacao

Quando tarefas sao independentes, use `auto-parallel` ou faca multiplas tool calls simultaneas.

Exemplos de paralelizacao:
- Buscar multiplos arquivos
- Rodar testes + lint
- Deploy + preparar posts

NAO paralelizar quando ha dependencias (ex: build antes de deploy).

---

## REGRA #15: Memoria e Persistencia

- Salvar decisoes importantes na memoria (claude-mem)
- Manter status files atualizados
- Documentar workflows em arquivos .md

---

## URLs de Producao Ativas

| App | URL | API Stats |
|-----|-----|-----------|
| ClipGenius | https://clipgenius-production.up.railway.app | ✅ |
| BrandPulse AI | https://brandpulse-ai-production-2b82.up.railway.app | ✅ |
| ContentAtomizer | https://contentatomizer-production.up.railway.app | ✅ |
| FocusFlow | https://focusflow-production-2e04.up.railway.app | ✅ |
| PropostaAI | https://proposta-ai-production.up.railway.app | ✅ |
| ClipToAll | https://cliptoall-v2-production.up.railway.app | ✅ |

---

## Diretorios Importantes

```
~/clawd/deploys/           - Status de deploys
~/agent-projects/builds/   - Builds de apps
~/.claude/                 - Config global Claude
.claude/agents/            - Definicoes de agentes
.claude/skills/            - Skills disponiveis
.claude/commands/          - Comandos customizados
.playwright-mcp/           - Screenshots Playwright
```

---

**LEMBRETE FINAL**: O usuario esta cansado de repetir instrucoes.
Este arquivo contem TUDO. Siga-o a risca. Sem desculpas.

---

## REGRA #16: Atualizar Dashboard Após Deploy

Após QUALQUER deploy, SEMPRE adicionar/atualizar o app no dashboard:

```bash
# Adicionar novo app
curl -X POST https://garimdreaming-dashboard-production.up.railway.app/api/apps \
  -H "Content-Type: application/json" \
  -d '{
    "name": "[APP_NAME]",
    "slug": "[app-slug]",
    "url": "[URL_PRODUCAO]",
    "description": "[DESCRICAO]",
    "score": [0-100]
  }'

# Atualizar métricas
curl -X PATCH https://garimdreaming-dashboard-production.up.railway.app/api/apps \
  -H "Content-Type: application/json" \
  -d '{
    "slug": "[app-slug]",
    "total_views": [X],
    "week_views": [X],
    "today_views": [X]
  }'
```

**NUNCA esquecer de atualizar o dashboard!**

---

## REGRA #17: Dashboard GarimDreaming

URL: https://garimdreaming-dashboard-production.up.railway.app

Apps registrados:
| App | Slug | URL |
|-----|------|-----|
| ClipGenius | clipgenius | https://clipgenius-production.up.railway.app |
| BrandPulse AI | brandpulse-ai | https://brandpulse-ai-production-2b82.up.railway.app |
| ContentAtomizer | contentatomizer | https://contentatomizer-production.up.railway.app |
| FocusFlow | focusflow | https://focusflow-production-2e04.up.railway.app |
| PropostaAI | propostaai | https://proposta-ai-production.up.railway.app |
| ClipToAll | cliptoall | https://cliptoall-v2-production.up.railway.app |

---

## REGRA #18: Todos Apps DEVEM ter API de Tracking

Ao criar/deployar qualquer app, SEMPRE incluir:

### 1. `/app/api/track/route.ts` - Recebe page views
```typescript
// POST: recebe { page, referrer, sessionId }
// Armazena em global.__pageViews
```

### 2. `/app/api/stats/route.ts` - Retorna estatísticas
```typescript
// GET: ?secret=garimdreaming-stats-2026&format=json
// Retorna { totalViews, weekViews, todayViews, uniqueVisitors }
```

### 3. Tracking no layout.tsx
```typescript
// Chama /api/track no client com sessionId
```

**Copiar de**: `~/agent-projects/builds/2026-01-29-clipgenius/src/app/api/`

### Apps COM API de Tracking:
- ClipGenius ✓
- ContentAtomizer ✓
- BrandPulse AI ✓ (adicionado 2026-01-30)
- FocusFlow ✓ (adicionado 2026-01-30)
- PropostaAI ✓ (adicionado 2026-01-30)
- ClipToAll ✓ (adicionado 2026-01-30)

---

## REGRA #19: Sincronizar Dashboard Após Deploy

Após QUALQUER deploy, rodar o sync do dashboard:

```bash
curl "https://garimdreaming-dashboard-production.up.railway.app/api/sync?secret=garimdreaming-stats-2026"
```

Isso puxa os dados reais de cada app e atualiza o dashboard automaticamente.

---

## REGRA #20: Teste Obrigatorio via Playwright ANTES de Postar no X

**NUNCA** postar no X/Twitter ou declarar "deploy completo" sem testar via Playwright.

### Plano de Teste Obrigatorio (para CADA app):

```
1. NAVEGACAO
   - [ ] Abrir URL de producao
   - [ ] Verificar se pagina carrega (sem 404/500)
   - [ ] Capturar screenshot da homepage
   - [ ] Verificar titulo da pagina (meta title)

2. FUNCIONALIDADE PRINCIPAL
   - [ ] Identificar CTA principal
   - [ ] Clicar no CTA
   - [ ] Verificar se acao funciona
   - [ ] Capturar screenshot do resultado

3. RESPONSIVIDADE
   - [ ] Testar em viewport mobile (375x667)
   - [ ] Verificar se layout adapta
   - [ ] Capturar screenshot mobile

4. API STATS
   - [ ] Testar /api/stats?secret=garimdreaming-stats-2026&format=json
   - [ ] Verificar se retorna JSON valido
   - [ ] Confirmar campos: totalViews, uniqueVisitors, todayViews

5. SEO
   - [ ] Verificar sitemap.xml existe
   - [ ] Verificar robots.txt existe
   - [ ] Verificar meta tags no HTML
```

### Resultado Esperado:
```
[TESTE] [APP_NAME] - APROVADO/REPROVADO

Navegacao: OK/FALHOU
Funcionalidade: OK/FALHOU
Responsividade: OK/FALHOU
API Stats: OK/FALHOU
SEO: OK/FALHOU

Screenshots:
- homepage: [app]-homepage.png
- cta: [app]-cta.png
- mobile: [app]-mobile.png
```

### Fluxo:
1. Deploy finaliza
2. **OBRIGATORIO**: Rodar suite de testes Playwright
3. Se TODOS passarem -> Pode postar no X
4. Se ALGUM falhar -> Corrigir ANTES de postar

**NAO PULE ESTA ETAPA!**

---

## REGRA #21: Fluxo Completo de Deploy (Maestro)

O fluxo de deploy DEVE seguir EXATAMENTE esta ordem:

```
1. BUILD → 2. DEPLOY → 3. TESTE → 4. SYNC → 5. POST
```

### Detalhamento:

**1. BUILD**
- `npm run build` ou `bun run build`
- Se falhar, PARE e corrija

**2. DEPLOY**
- `railway up`
- Aguardar URL de producao
- Testar se responde (curl)

**3. TESTE (BLOQUEANTE)**
- Rodar suite de testes via Playwright
- Testar API stats: `/api/stats?secret=garimdreaming-stats-2026&format=json`
- Capturar screenshots
- **SE FALHAR: Corrigir e re-testar. NAO prosseguir.**

**4. SYNC**
- Atualizar dashboard: `curl "https://garimdreaming-dashboard-production.up.railway.app/api/sync?secret=garimdreaming-stats-2026"`
- Verificar se app aparece no dashboard

**5. POST (SOMENTE APOS TESTES OK)**
- Postar em 3 idiomas (pt-BR, en-US, es)
- Capturar IDs dos posts

### Comando de Sync:
```bash
curl "https://garimdreaming-dashboard-production.up.railway.app/api/sync?secret=garimdreaming-stats-2026"
```

---

## REGRA #22: Documentar Ações ao Commitar

**OBRIGATORIO**: Ao fazer QUALQUER commit, adicionar entrada no Historico de Ações abaixo.

Formato:
```
### [DATA] - [RESUMO]
- Ação 1
- Ação 2
- Resultado
```

**Isso garante que nunca esquecemos o que foi feito e serve como guia para próximas sessões.**

---

## Historico de Ações

### 2026-01-31 - Correção ClipToAll e Sync Completo

**Problema**: ClipToAll API retornava 404 no Railway (cache corrompido)

**Solução**:
1. Deletado projeto `clip-to-all` no Railway
2. Criado novo projeto `cliptoall-v2`
3. Deploy bem-sucedido em https://cliptoall-v2-production.up.railway.app
4. API stats funcionando: `/api/stats?secret=garimdreaming-stats-2026&format=json`

**Atualizado**:
- Dashboard sync route com nova URL
- CLAUDE.md com URLs corretas de todos os 6 apps
- Banco de dados Neon com nova URL do ClipToAll

**Resultado**: 6/6 apps com API stats funcionando e sincronizados no dashboard

---

### 2026-01-30 - Adição de Tracking API em todos os Apps

**Ações**:
1. Adicionado `/api/track/route.ts` em: BrandPulse AI, FocusFlow, PropostaAI, ClipToAll
2. Adicionado `/api/stats/route.ts` em: BrandPulse AI, FocusFlow, PropostaAI, ClipToAll
3. Deploy de todos os apps no Railway
4. Criado Dashboard GarimDreaming com sync automático
5. Implementado persistência com Neon PostgreSQL

**Resultado**: Sistema de tracking e dashboard centralizados funcionando

---

Ultima atualizacao: 2026-01-31
